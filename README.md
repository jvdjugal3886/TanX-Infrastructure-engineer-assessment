
# Order Analysis

## Overview

This project analyzes customer orders from an online store using data from a CSV file. It performs the following tasks:

1. Computes the total revenue generated by the store for each month.
2. Computes the total revenue generated by each product.
3. Computes the total revenue generated by each customer.
4. Identifies the top 10 customers by revenue.

## Project Structure


order_analysis/
├── Dockerfile
├── Dockerfile.test
├── README.md
├── docker-compose.yml
├── main.py
├── orders.csv
├── requirements.txt
└── tests/
    └── test_order_analysis.py


- `main.py`: Contains the main logic for computing revenue and generating reports.
- `orders.csv`: Sample data file containing customer orders.
- `requirements.txt`: Python dependencies required for the project.
- `tests/test_order_analysis.py`: Unit tests for the functions in `main.py`.
- `Dockerfile`: Dockerfile for building the application image.
- `Dockerfile.test`: Dockerfile for building the test image.
- `docker-compose.yml`: Docker Compose configuration for running the application and tests.

## Setup

### Prerequisites

- Docker
- Docker Compose

 ### Installation

1. Clone the repository:

    ```sh
    git clone <repository-url>
    cd order_analysis
    ```

2. Build the Docker images:
    docker-compose build --no-cache
  
## Usage

### Running the Application

To run the application, use:
docker-compose up app

This will execute the `main.py` script and print the computed revenues and top 10 customers.

### Running Tests

To run the tests, use:

```sh
docker-compose up test
```

This will execute the unit tests defined in `tests/test_order_analysis.py`.

## Functions

### `read_data(file_path)`

Reads the CSV file and returns a pandas DataFrame.

### `compute_total_revenue_by_month(df)`

Computes and returns total revenue by month from the DataFrame.

### `compute_total_revenue_by_product(df)`

Computes and returns total revenue by product from the DataFrame.

### `compute_total_revenue_by_customer(df)`

Computes and returns total revenue by customer from the DataFrame.

### `get_top_10_customers(revenue_by_customer)`

Returns the top 10 customers by revenue from the given dictionary of customer revenues.

## Testing

The tests are written using the `unittest` framework and located in the `tests/` directory. The tests verify the correctness of the revenue computations and the top 10 customer rankings.

## Docker

### Dockerfile

The `Dockerfile` sets up the environment for running the application.

### Dockerfile.test

The `Dockerfile.test` sets up the environment for running the tests.

### docker-compose.yml

The `docker-compose.yml` file defines services for the application and test environments.





